<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        function loadXMLDoc() {
            var xmlhttp
            var url = "http://localhost:8080/api/users/1"
            if (window.XMLHttpRequest) {
                //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
                xmlhttp = new XMLHttpRequest()
            } else {
                // IE6, IE5 浏览器执行代码
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP")
            }
            xmlhttp.onreadystatechange = function () {
                if (xmlhttp.readyState === 4 && xmlhttp.status === 200) {
                    // document.getElementById("myDiv").innerHTML = xmlhttp.responseText
                    var data = xmlhttp.responseText;
                    data = JSON.parse(data);
                    console.log(data)
                    console.log(data.name)
                }
            }
            xmlhttp.open("GET", url, true)
            xmlhttp.send();
        }

        function loadXMLDoc2() {
            var xmlhttp
            var url = "http://localhost:8080/api/users"
            if (window.XMLHttpRequest) {
                //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
                xmlhttp = new XMLHttpRequest()
            } else {
                // IE6, IE5 浏览器执行代码
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP")
            }
            xmlhttp.onreadystatechange = function () {
                // 0: 请求未初始化
                // 1: 服务器连接已建立
                // 2: 请求已接收
                // 3: 请求处理中
                // 4: 请求已完成，且响应已就绪
                var readyState = xmlhttp.readyState;
                // 200: "OK"
                // 404: 未找到页面
                var status = xmlhttp.status;

                if (readyState === 4 && status === 200) {
                    // document.getElementById("myDiv").innerHTML = xmlhttp.responseText
                    var data = xmlhttp.responseText;
                    data = JSON.parse(data);
                    console.log(data)
                    console.log(data.name)
                }
            }
            xmlhttp.open("POST", url,
                true // 此参数为 async 布尔类型，代表是否为 异步请求
                // 当使用 async=true 时，
                // 请规定在响应处于 onreadystatechange
                // 事件中的就绪状态时执行的函数：
            )
            xmlhttp.setRequestHeader("Content-Type", "application/json")
            var param = '{"name":"demo2"}'
            xmlhttp.send(param);
        }

        function loadXMLDoc2(url, onreadystatechange) {
            var xmlhttp
            if (window.XMLHttpRequest) {
                //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
                xmlhttp = new XMLHttpRequest()
            } else {
                // IE6, IE5 浏览器执行代码
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP")
            }
            xmlhttp.onreadystatechange = onreadystatechange
            xmlhttp.open("POST", url,
                true // 此参数为 async 布尔类型，代表是否为 异步请求
                // 当使用 async=true 时，
                // 请规定在响应处于 onreadystatechange
                // 事件中的就绪状态时执行的函数：
            )
            xmlhttp.setRequestHeader("Content-Type", "application/json")
            var param = '{"name":"demo2"}'
            xmlhttp.send(param);
        }

        // loadXMLDoc2("",function () {
        //
        // })

    </script>
</head>
<body>
<div id="myDiv"><h2>使用 AJAX 修改该文本内容</h2></div>
<button type="button" onclick="loadXMLDoc()">修改内容</button>
<button type="button" onclick="loadXMLDoc2()">创建内容</button>
</body>
</html>